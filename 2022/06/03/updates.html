<!DOCTYPE html>
<html>

<head>

  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta name="twitter:card" content="summary">
    <meta name="description" content=".NET &#x95A2;&#x9023;&#x306E;&#x60C5;&#x5831;&#x3092;&#x307B;&#x307C;&#x9031;&#x520A;&#x914D;&#x4FE1;">
    <meta property="og:description" content=".NET &#x95A2;&#x9023;&#x306E;&#x60C5;&#x5831;&#x3092;&#x307B;&#x307C;&#x9031;&#x520A;&#x914D;&#x4FE1;">
    <meta name="author" content="Mayuki Sawatari">

  <title>2022-06-03: Visual Studio at Microsoft Build 2022, Incremental ASP.NET to ASP.NET Core Migration - WeekRef.NET</title>

  <link rel="canonical" href="/2022/06/03/updates">

      <link type="application/atom+xml" rel="alternate" title="WeekRef.NET" href="/feed.atom" />
  
  <meta name="application-name" content="WeekRef.NET" />
  <meta name="msapplication-tooltip" content="WeekRef.NET" />
  <meta name="msapplication-starturl" content="/" />

  <meta property="og:title" content="2022-06-03: Visual Studio at Microsoft Build 2022, Incremental ASP.NET to ASP.NET Core Migration - WeekRef.NET" />
    <meta property="og:image" content="/img/logo.png" />
  <meta property="og:type" content="website" />
  <meta property="og:url" content="/2022/06/03/updates" />
  
  <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
  <link rel="icon" href="/favicon.ico" type="image/x-icon">

  <!-- Bootstrap core CSS -->
  <link href="/vendor/bootstrap/scss/bootstrap.css" rel="stylesheet">

  <!-- Custom fonts for this template -->
  <link href="/vendor/fontawesome-free/css/all.min.css" rel="stylesheet" type="text/css">
  <link href="/vendor/fontawesome-free/css/brands.min.css" rel="stylesheet" type="text/css">
  <link href='https://fonts.googleapis.com/css?family=Lora:400,700,400italic,700italic' rel='stylesheet' type='text/css' data-no-mirror>
  <link href='https://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800' rel='stylesheet' type='text/css' data-no-mirror>
  
  <!-- Custom styles for this template -->
  <link href="/scss/clean-blog.css" rel="stylesheet">
  
  <script src="https://cdn.jsdelivr.net/npm/prismjs@1.19.0/components/prism-core.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/prismjs@1.19.0/plugins/autoloader/prism-autoloader.min.js" data-no-mirror></script>
  <script src="https://cdn.jsdelivr.net/npm/quicklink@2.0.0/dist/quicklink.umd.js"></script>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/prismjs@1.19.0/themes/prism.css">

  <!-- Lunr search -->
  
  <!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-VMZ41K2L9M"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-VMZ41K2L9M');
</script>


  

</head>

<body>

  <!-- Navigation -->
  <nav class="navbar navbar-expand-lg navbar-light fixed-top" id="mainNav">
  <div class="container">
    <a class="navbar-brand" href="/">WeekRef.NET</a>
    <button class="navbar-toggler navbar-toggler-right" type="button" data-toggle="collapse" data-target="#navbarResponsive" aria-controls="navbarResponsive" aria-expanded="false" aria-label="Toggle navigation">
      Menu
      <i class="fas fa-bars"></i>
    </button>
    <div class="collapse navbar-collapse" id="navbarResponsive">
      <ul class="navbar-nav ml-auto">
    <li class="nav-item">
        <a class="nav-link" href="https://github.com/mayuki/WeekRef.NET">GitHub</a>
    </li>
</ul>
    </div>
  </div>
</nav>

  <!-- Page Header -->
  <header class="masthead">
  <div class="overlay"></div>
  <div class="container">
    <div class="row">
      <div class="col-md-12">
        <div class="post-heading">
          <h1>
            2022-06-03: Visual Studio at Microsoft Build 2022, Incremental ASP.NET to ASP.NET Core Migration
          </h1>
              <div class="meta">Published on Friday, 03 June 2022</div>
        </div>
      </div>
    </div>
  </div>
</header>

  <!-- Main Content -->
  <div class="container"> 
    <div class="row">
      <div id="content" class="col-md-12">  
        <!--
# yyyy-MM-dd
## 主なトピックス
## ヘッドライン
## アーティクル、スライドなど
## ライブラリ、リポジトリ、ツールなど
## サイト、ドキュメントなど
### ツイート
## Deep Dive
-->
<h2 id="section">トピックス</h2>
<h3 id="visual-studio-at-microsoft-build-2022.net-blog">Visual Studio at Microsoft Build 2022 - .NET Blog</h3>
<p><a href="https://devblogs.microsoft.com/visualstudio/visual-studio-at-microsoft-build-2022/">https://devblogs.microsoft.com/visualstudio/visual-studio-at-microsoft-build-2022/</a></p>
<p>Microsoft Build 2022 での Visual Studio 関連の情報についての記事。</p>
<ul>
<li>Visual Studio 2022 17.3 Preview 1.1 と Visual Studio 2022 for Mac 17.3 Preview 1 で .NET MAUI のツーリングが利用可能に</li>
<li>Microsoft Dev Box (Windows 365 の開発者向け版) のアナウンス</li>
<li>Azure Deployment Environments のアナウンス</li>
<li>ARM64 向け Visual Studio のアナウンス</li>
</ul>
<h3 id="incremental-asp.net-to-asp.net-core-migration.net-blog">Incremental ASP.NET to ASP.NET Core Migration - .NET Blog</h3>
<p><a href="https://devblogs.microsoft.com/dotnet/incremental-asp-net-to-asp-net-core-migration/">https://devblogs.microsoft.com/dotnet/incremental-asp-net-to-asp-net-core-migration/</a></p>
<p>ASP.NET を ASP.NET Core に段階的に移行する方法とそれを支援するツールやライブラリーについての記事。</p>
<p>記事では大きなプロジェクトを段階的に移行する方法として System.Web アダプターライブラリーと YARP を使用した構成を構築し、一部のロジックを ASP.NET Core アプリケーションへと移行しトラフィックを流していく形でインクリメンタルに移行する手段を紹介している。</p>
<p>またその構成を Visual Studio 上で簡単に構築できるマイグレーション用の拡張 (要 Visual Studio Preview) についても使用方法を含めて紹介している。</p>
<ul>
<li><a href="https://github.com/dotnet/systemweb-adapters">dotnet/systemweb-adapters</a></li>
<li><a href="https://marketplace.visualstudio.com/items?itemName=WebToolsTeam.aspnetprojectmigrations">Microsoft Project Migrations (Experimental) - Visual Studio Marketplace</a></li>
</ul>
<h3 id="net-framework-may-2022-cumulative-update.net-blog">.NET Framework May 2022 Cumulative Update - .NET Blog</h3>
<p><a href="https://devblogs.microsoft.com/dotnet/net-framework-may-2022-cumulative-update/">https://devblogs.microsoft.com/dotnet/net-framework-may-2022-cumulative-update/</a></p>
<p>.NET Framework の2022年5月の累積アップデートプレビューがリリースされた。</p>
<p>このアップデートでは WPF、WinForms、.NET ランタイム、ワークフローに関する品質と安定性の向上が含まれている。</p>
<h2 id="section-1">アーティクル、スライドなど</h2>
<h3 id="ccustom-github-action-yucchiys-note">C#でCustom GitHub Actionを書く | Yucchiy's Note</h3>
<p><a href="https://blog.yucchiy.com/2022/05/implement-custom-github-action-with-csharp/">https://blog.yucchiy.com/2022/05/implement-custom-github-action-with-csharp/</a></p>
<p>GitHub Actions のカスタム action を C# で記述する方法についての記事。</p>
<h3 id="vscodeunityuseglobalmono">【vscode/Unity】補完が消えた&amp;useGlobalMonoがなくなって混乱している人へ</h3>
<p><a href="https://zenn.dev/leaf/articles/98f02a61440893">https://zenn.dev/leaf/articles/98f02a61440893</a></p>
<p>Visual Studio Code で使用する C# 拡張を使用している場合に Unity のプロジェクトのようなフルフレームワークプロジェクトで補完が効かなくなる問題についての記事。</p>
<p>原因は C# 拡張の OmniSharp が .NET 6 で動作するようになったことで不完全な付属のミニマルな Mono と MSBuild Tools を削除となり、その結果として設定項目が変更されたことによる。(デフォルトでは .NET SDK を探しにいく)</p>
<p>解決策は omnisharp.useModernNet を false にすることでインストールされた Mono を利用するようにする。</p>
<h3 id="page-navigation-in.net-maui-an-overview">Page Navigation in .NET MAUI: An Overview</h3>
<p><a href="https://dev.to/syncfusion/page-navigation-in-net-maui-an-overview-2bkm">https://dev.to/syncfusion/page-navigation-in-net-maui-an-overview-2bkm</a></p>
<p>.NET MAUI で利用できる2種類のページナビゲーションの簡単な説明記事。</p>
<h3 id="c-cswin32win32apipinvoke-qiita">[C#] CsWin32でWin32APIのプラットフォーム呼び出し(P/Invoke)コードを自動生成 - Qiita</h3>
<p><a href="https://qiita.com/radian-jp/items/a4509f9a44101fb2f30e">https://qiita.com/radian-jp/items/a4509f9a44101fb2f30e</a></p>
<p>Windows (Win32 API) 向けの P/Invoke の呼び出しコードを生成する Source Generator の CsWin32 の使い方についての記事。</p>
<h3 id="securing.net-app-secrets-with-aws-secrets-manager">Securing .NET App Secrets with AWS Secrets Manager</h3>
<p><a href="https://dev.to/aws-builders/securing-net-app-secrets-with-aws-secrets-manager-2f4h">https://dev.to/aws-builders/securing-net-app-secrets-with-aws-secrets-manager-2f4h</a></p>
<p>.NET アプリケーションから AWS Secrets Manager にアクセスしてシークレットを取得する方法についての記事。</p>
<h3 id="improved-doc-management-personalization">Improved doc management personalization</h3>
<p><a href="https://devblogs.microsoft.com/visualstudio/doc-management-personalization/">https://devblogs.microsoft.com/visualstudio/doc-management-personalization/</a></p>
<p>Visual Studio 2022 で強化されたドキュメント(タブ)管理について紹介する記事。</p>
<ul>
<li>タブの複数行配置</li>
<li>非表示ドキュメント名の斜体表示</li>
<li>変更済みインジケーターのアクセシビリティの向上</li>
<li>閉じたタブの復元</li>
</ul>
<h3 id="next.js-meets-asp.net-core-a-story-of-performance-and-love-at-long-tail">Next.js meets ASP .NET Core — a story of performance and love at long tail</h3>
<p><a href="https://medium.com/&#64;david.nissimoff/next-js-meets-asp-net-core-a-story-of-performance-and-love-at-long-tail-41cf9231b2de">https://medium.com/&#64;david.nissimoff/next-js-meets-asp-net-core-a-story-of-performance-and-love-at-long-tail-41cf9231b2de</a></p>
<p>ASP.NET Core サーバーで Next.js の静的生成 (SSG) ページをホストするという試みについての記事。</p>
<h3 id="surprising-ways-to-profile-your.net-applications-the.net-tools-blog">Surprising Ways To Profile Your .NET Applications | The .NET Tools Blog</h3>
<p><a href="https://blog.jetbrains.com/dotnet/2022/05/31/surprising-ways-to-profile-your-net-applications/">https://blog.jetbrains.com/dotnet/2022/05/31/surprising-ways-to-profile-your-net-applications/</a></p>
<p>dotTrace, dotMemory を使用してのプロファイリングは IDE やビルドパイプライン、ユニットテストやリモート環境といった様々な環境で行えることを紹介する記事。</p>
<h3 id="understanding-pathbase-in-asp.net-core">Understanding PathBase in ASP.NET Core</h3>
<p><a href="https://andrewlock.net/understanding-pathbase-in-aspnetcore/">https://andrewlock.net/understanding-pathbase-in-aspnetcore/</a></p>
<p>ASP.NET Core の HttpContext にある PathBase プロパティーがどういうものかを説明している記事。</p>
<p>PathBase はリクエストのプレフィックスとなるパスを表すもので、リバースプロキシーの裏側にいる場合などに役立つ。</p>
<h3 id="unusual-optimizations-ref-foreach-and-ref-returns">Unusual optimizations; ref foreach and ref returns</h3>
<p><a href="https://blog.marcgravell.com/2022/05/unusual-optimizations-ref-foreach-and.html">https://blog.marcgravell.com/2022/05/unusual-optimizations-ref-foreach-and.html</a></p>
<p>foreach で ref を使い、構造体のコピーを減らすことでパフォーマンスを向上させるテクニックについての記事。</p>
<p><code>foreach</code> は対象が構造体の列挙の場合、値を取り出すことがコピーとなるためパフォーマンスに影響が出る可能性がある。</p>
<p>例として配列の要素に対するメソッド呼び出しには <code>foreach</code> を使った場合は「配列からインデックスで値を取り出す」「ローカル変数に保存する」「ローカル変数のアドレスを取得する」の3ステップが必要となる一方、 <code>for</code> の場合は「インデックスで値のアドレスを取り出す」だけでコピーが発生しない IL へとコンパイルされる。(ちなみに SharpLab で JIT 結果を見ると同じ結果になっているように見えるので単純なコードの場合差がない可能性がある)</p>
<p>配列以外で似たようなことをするにはどうすればよいのかというところで <code>Span&lt;T&gt;</code> と <code>foreach (ref ...)</code> を使用する方法があるとしている。リストであれば <code>foreach (ref var tmp in CollectionsMarshal.AsSpan(list)) { ... }</code> のようにすることでコンパイラーと JIT での最適化で配列での <code>for</code> と同じようなコピーしない操作結果を得られる。</p>
<p>もし <code>Span&lt;T&gt;</code> を使用できないとしても <code>Span&lt;T&gt;</code> などと同様に Enumerator.Current で <code>ref return</code> するカスタム Enumerator を実装することもできる。</p>
<h3 id="may-26-2022.net-data-biweekly-updates-2022-issue-27185-dotnetefcore">May 26, 2022 - .NET Data Biweekly Updates (2022) · Issue #27185 · dotnet/efcore</h3>
<p><a href="https://github.com/dotnet/efcore/issues/27185">https://github.com/dotnet/efcore/issues/27185</a></p>
<p>Entity Framework Core 関連の隔週のアップデート情報。5月26日分。</p>
<p>コミュニティスタンドアップの紹介や EF Core 7 の実装状況などについて触れている。</p>
<h2 id="section-2">サイト、ドキュメントなど</h2>
<h3 id="vol.78-web-shell-mag">シェルスクリプトマガジンvol.78 Web掲載記事まとめ | shell-mag</h3>
<p><a href="https://shell-mag.com/vol-78-web/">https://shell-mag.com/vol-78-web/</a></p>
<p>.NET 特集が組まれている。</p>
<h3 id="section-3">ツイート</h3>
<!-- https://twitter.com/runfaster2000/status/1531743163190128640?s=12 -->
<blockquote class="twitter-tweet"><p lang="en" dir="ltr">Cool ... The MCR domain now does something useful. <a href="https://t.co/UyELAGuv4E">https://t.co/UyELAGuv4E</a></p>&mdash; Rich Lander (&#64;runfaster2000) <a href="https://twitter.com/runfaster2000/status/1531743163190128640?ref_src=twsrc%5Etfw">May 31, 2022</a></blockquote>
<script async src="https://platform.twitter.com/widgets.js" charset="utf-8"></script>
<p>Microsoft の公式コンテナーレジストリーのカタログページがあるので、.NET のイメージも探せるという話。</p>


      </div>
    </div>
  </div>

  <hr>

  <!-- Footer -->  
  <footer>
    <div class="container">
        <div class="row">
                <div class="col-md-12 text-center">
                    <p class="copyright text-muted m-0">Copyright &#xA9; Mayuki Sawatari &lt;mayuki@misuzilla.org&gt;</p>
                    <br />
                    <ul class="list-inline text-center small">
                            <li class="list-inline-item">
                                <a href="/feed.atom"><i class="fa fa-rss"></i> Feed</a>
                            </li>
                    </ul>
                    <br />
                    <div class="font-weight-bold small"><a href="https://statiq.dev">Generated by Statiq</a></div>
                </div>
        </div>
    </div>
</footer>

  <!-- Bootstrap core JavaScript -->
  <script src="/vendor/jquery/jquery.min.js"></script>
  <script src="/vendor/bootstrap/js/bootstrap.bundle.min.js"></script>

  


  

  <!-- Custom scripts for this template -->
  <script src="/js/clean-blog.js"></script>

</body>

</html>
